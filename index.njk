<form>
  <div style="display:flex">
  <input type="checkbox" id="checkbox1" name="checkbox1" value="1">
  <label for="checkbox1">1</label><br>
  <input type="checkbox" id="checkbox2" name="checkbox2" value="2">
  <label for="checkbox2">2</label><br>
  <input type="checkbox" id="checkbox3" name="checkbox3" value="3">
  <label for="checkbox3">3</label><br>
  <input type="checkbox" id="checkbox4" name="checkbox4" value="4">
  <label for="checkbox4">4</label><br>
  <input type="checkbox" id="checkbox5" name="checkbox5" value="5">
  <label for="checkbox5">5</label><br>
</div>

<div style="display:flex">
  <input type="checkbox" id="checkbox6" name="checkbox1" value="6">
  <label for="checkbox6">6</label><br>
  <input type="checkbox" id="checkbox7" name="checkbox2" value="7">
  <label for="checkbox7">7</label><br>
  <input type="checkbox" id="checkbox8" name="checkbox3" value="8">
  <label for="checkbox8">8</label><br>
  <input type="checkbox" id="checkbox9" name="checkbox4" value="9">
  <label for="checkbox9">9</label><br>
  <input type="checkbox" id="checkbox10" name="checkbox5" value="10">
  <label for="checkbox10">10</label><br>
</div>
</form> 

<button id="button" disabled>Submit</button>

<div id="result"></div>

<script>

const button = document.getElementById('button');
const checkboxes = document.querySelectorAll('input[type="checkbox"]');

// Add an event listener to each checkbox to enable/disable the button
  checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', () => {
      // Count the number of checked checkboxes
      const checkedCount = checkboxes.reduce((count, cb) => cb.checked ? count + 1 : count, 0);

      // Enable the button if exactly 5 checkboxes are checked, otherwise disable it
      if (checkedCount === 5) {
        button.disabled = false;
      } else {
        button.disabled = true;
      }
    });
  });


button.addEventListener('click', () => {
  // Get the checkboxes
  const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');

  // Convert the NodeList of checkboxes to an array
  const values = Array.from(checkboxes).map(checkbox => checkbox.value);

  // Build the URL string with the values
  const url = `/.netlify/functions/lookupcards?values=${values.join(',')}`;

  // Make a GET request to the function
  fetch(url)
    .then(response => response.json())
    .then(data => {
      // Get the 'result' element
      const result = document.getElementById('result');

      // Set the HTML content of the 'result' element to the response data
      result.innerHTML = data.allvalues;
    })
    .catch(error => {
      // Log the error message
      console.error(error);
    });
});

</script>